/*!
 * vuelidate-error-extractor v1.1.0 
 * (c) 2017 Dobromir Hristov
 * Released under the MIT License.
 */
!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(r.VuelidateErrorExtractor=r.VuelidateErrorExtractor||{})}(this,function(r){"use strict";function e(r,e,t){void 0===t&&(t="");var a=r.split(".").reduce(function(r,e){return r[e]},e);return void 0===a?t:a}function t(r,t){if("string"!=typeof r)throw new TypeError("Expected a string in the first argument, got "+typeof r);if("object"!=typeof t)throw new TypeError("Expected an Object/Array in the second argument, got "+typeof t);var a=/{(.*?)}/g;return r.replace(a,function(r,a){return e(a,t)||""})}function a(r,e,t){return void 0===e&&(e=r),void 0===t&&(t={}),{validationKey:r,hasError:this.validator[e],$params:this.validator.$params[e],params:Object.assign({},{attribute:this.label,label:this.label},t,this.validatorParams)}}function s(r,e){void 0===e&&(e={}),r.prototype.$vuelidateErrorExtractor={i18n:e.i18n||!1,messages:e.messages||{},validationKeys:e.validationKeys||{}},void 0===e.template?console.error("[vuelidate-message-extractor warn]: No template component provided in vuelidate-error-extractor options. Please provide a template using Vue.use(vuelidateMessageExtractor, { template: yourImportedType })"):(e.name=e.name||"formGroup",r.component(e.name,e.template))}var o={computed:{errors:function(){var r=this,e={},t=this.validator.$params,s=this.$vuelidateErrorExtractor.validationKeys;return Object.keys(t).map(function(o){return void 0!==s&&s.hasOwnProperty(o)?(s[o].params.forEach(function(a){e[a.ext]=r.validatorParams[a.other]||t[o][a.vue]}),a.call(r,s[o].validationKey,o,e)):t[o]&&Object.keys(t[o]).length?(Object.keys(t[o]).filter(function(r){return"type"!==r}).forEach(function(r){e[r]=t[o][r]}),a.call(r,o,o,e)):a.call(r,o)})},activeErrors:function(){return this.errors.filter(function(r){return!r.hasError})},mergedMessages:function(){return Object.assign({},this.$vuelidateErrorExtractor.messages,this.messages)},firstError:function(){return this.activeErrors.length?this.activeErrors[0]:""},firstErrorMessage:function(){return this.getErrorMessage(this.firstError.validationKey,this.firstError.params)},hasErrors:function(){return this.validator.$error}},methods:{getErrorMessage:function(r,e){return this.$vuelidateErrorExtractor.i18n?this.getI18nMessage(r,e):this.getPlainMessage(r,e)},getI18nMessage:function(r,e){return this.$t(this.$vuelidateErrorExtractor.i18n+"."+r,e)},getPlainMessage:function(r,a){var s=e(r,this.mergedMessages);return""===s?r:t(s,a)}},props:{label:String,validator:{type:Object,default:function(){return{$dirty:!1,$error:!1,$invalid:!0,$pending:!1,$params:[]}}},validatorParams:{type:Object,default:function(){return{}}},messages:{type:Object,default:function(){return{}}},showSingleError:{type:Boolean,default:!1}}},i={render:function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("div",{staticClass:"form-group",class:{error:r.hasErrors}},[r._t("label",[r.label?t("label",{class:{"is-invalid-label":r.hasErrors}},[r._v(r._s(r.label)+" "+r._s(r.errors?"*":""))]):r._e()]),r._t("default",[r._t("errors",[r.hasErrors?t("div",{staticClass:"form-error is-visible"},[r.showSingleError?t("span",{attrs:{"data-validation-attr":r.firstError.validationKey}},[r._v(r._s(r.firstErrorMessage))]):r._e(),r.showSingleError?r._e():r._l(r.activeErrors,function(e){return t("span",{key:e.validationKey,attrs:{"data-validation-attr":e.validationKey}},[r._v(r._s(r.getErrorMessage(e.validationKey,e.params)))])})],2):r._e()],{errors:r.activeErrors,hasErrors:r.hasErrors,firstErrorMessage:r.firstErrorMessage})],{errors:r.activeErrors,hasErrors:r.hasErrors,firstErrorMessage:r.firstErrorMessage})],2)},staticRenderFns:[],mixins:[o]},n={render:function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("div",{staticClass:"form-group",class:{"has-error":r.hasErrors,"has-success":!r.hasErrors&&r.validator.$dirty}},[r._t("label",[r.label?t("label",{staticClass:"control-label"},[r._v(r._s(r.label)+" "+r._s(r.errors?"*":""))]):r._e()]),r._t("default",[r._t("errors",[r.hasErrors?t("div",{staticClass:"help-block"},[r.showSingleError?t("span",{attrs:{"data-validation-attr":r.firstError.validationKey}},[r._v(r._s(r.firstErrorMessage))]):r._e(),r.showSingleError?r._e():r._l(r.activeErrors,function(e){return t("span",{key:e.validationKey,attrs:{"data-validation-attr":e.validationKey}},[r._v(r._s(r.getErrorMessage(e.validationKey,e.params)))])})],2):r._e()],{errors:r.activeErrors,hasErrors:r.hasErrors,firstErrorMessage:r.firstErrorMessage})],{errors:r.activeErrors,hasErrors:r.hasErrors,firstErrorMessage:r.firstErrorMessage})],2)},staticRenderFns:[],mixins:[o]},l={foundation6:i,bootstrap3:n},c={minLength:{validationKey:"min.string",params:[{vue:"min",ext:"min"}]},sameAs:{validationKey:"same",params:[{vue:"eq",ext:"other"}]}},u={laravel:c};r.default=s,r.extractorMixin=o,r.configs=u,r.templates=l,Object.defineProperty(r,"__esModule",{value:!0})});