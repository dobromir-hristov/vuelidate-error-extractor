/*!
 * vuelidate-error-extractor v2.3.0 
 * (c) 2018 Dobromir Hristov
 * Released under the MIT License.
 */
!function(r,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(r.VuelidateErrorExtractorSingleErrorExtractorMixin={})}(this,function(r){"use strict";function t(r,t,e){return"function"==typeof e.join?e.join(r):r[0]+t+r[1]}function e(r,t,e){return"function"==typeof e.split?e.split(r):r.split(t)}function i(r,t,e){return"function"!=typeof e.isValid||e.isValid(r,t)}function a(r){return l(r)||Array.isArray(r)||"function"==typeof r}function n(r,t,e){return c(r,t,{default:e})}function o(r){return"[vuelidate-error-extractor]: "+r}function s(r,t){if("string"!=typeof r)throw new TypeError(o("Expected a string in the first argument, got "+typeof r));if("object"!=typeof t)throw new TypeError(o("Expected an Object/Array in the second argument, got "+typeof t));var e=/{(.*?)}/g;return r.replace(e,function(r,e){return n(t,e)||""})}function u(r,t,e){return void 0===e&&(e={}),{validationKey:r,hasError:!this.preferredValidator[t],$params:this.preferredValidator.$params[t],$dirty:this.preferredValidator.$dirty,$error:this.preferredValidator.$error,$invalid:this.preferredValidator.$invalid,params:Object.assign({},{attribute:this.resolvedAttribute,label:this.label},e,this.validatorParams)}}function f(r,t,e,i){if(void 0===i&&(i=""),t)return t;if(!i)return e;var a=i.replace(/\$each\.\d\./g,"");return r[a]||a}function d(r,t,e){var i=n(r,t,!1);return i?s(i,e):t}var l=function(r){return null!=r&&"object"==typeof r&&!1===Array.isArray(r)},c=function(r,n,o){if(l(o)||(o={default:o}),!a(r))return void 0!==o.default?o.default:r;"number"==typeof n&&(n=String(n));var s=Array.isArray(n),u="string"==typeof n,f=o.separator||".",d=o.joinChar||("string"==typeof f?f:".");if(!u&&!s)return r;if(u&&n in r)return i(n,r,o)?r[n]:o.default;var c=s?n:e(n,f,o),p=c.length,h=0;do{var v=c[h];for("number"==typeof v&&(v=String(v));v&&"\\"===v.slice(-1);)v=t([v.slice(0,-1),c[++h]||""],d,o);if(v in r){if(!i(v,r,o))return o.default;r=r[v]}else{for(var g=!1,y=h+1;y<p;)if(v=t([v,c[y++]],d,o),g=v in r){if(!i(v,r,o))return o.default;r=r[v],h=y-1;break}if(!g)return o.default}}while(++h<p&&a(r));return h===p?r:o.default},p={inject:{formValidator:{default:!1},formMessages:{default:function(){return{}}}},props:{validator:{type:Object,default:function(){return{$dirty:!1,$error:!1,$invalid:!0,$pending:!1,$params:[]}}},messages:{type:Object,default:function(){return{}}}},computed:{activeErrors:function(){return this.errors.filter(function(r){return r.hasError&&r.$dirty})},mergedMessages:function(){return Object.assign({},this.$vuelidateErrorExtractor.messages,this.formMessages,this.messages)},firstError:function(){return this.activeErrors.length?this.activeErrors[0]:""},firstErrorMessage:function(){return this.activeErrors.length?this.activeErrorMessages[0]:""},hasErrors:function(){return this.preferredValidator.$error},activeErrorMessages:function(){var r=this;return this.activeErrors.map(function(t){return r.getErrorMessage(t.validationKey,t.params)})}},methods:{getErrorMessage:function(r,t){return this.$vuelidateErrorExtractor.i18n?this.getI18nMessage(r,t):this.getPlainMessage(r,t)},getI18nMessage:function(r,t){var e=n(this.mergedMessages,r);return e?this.$t(e,t):this.$t(this.$vuelidateErrorExtractor.i18n+"."+r,t)},getPlainMessage:function(r,t){return d(this.mergedMessages,r,t)}}},h={props:{label:{type:String,default:""},attribute:{type:String,default:""},name:{type:String,default:""},validatorParams:{type:Object,default:function(){return{}}},showSingleError:{type:Boolean,default:!1}},extends:p,computed:{preferredValidator:function(){return this.$options.propsData.hasOwnProperty("validator")?this.validator:this.name?n(this.formValidator,this.name,this.validator):this.validator},errors:function(){var r=this,t=this.preferredValidator.$params,e=this.$vuelidateErrorExtractor.validationKeys||{};return Object.keys(t).map(function(i){var a=t[i];if(e.hasOwnProperty(i)){var n=e[i].params.reduce(function(t,e){return t[e.ext]=r.validatorParams[e.vue]||a[e.vue],t},{});return u.call(r,e[i].validationKey,i,n)}var o=Object.assign({},a,r.validatorParams);return delete o.type,u.call(r,i,i,o)})},events:function(){var r=this;return{input:function(){return r.preferredValidator.$touch()}}},isValid:function(){return this.preferredValidator.$dirty?!this.hasErrors:null},resolvedAttribute:function(){return f(this.$vuelidateErrorExtractor.attributes,this.attribute,this.label,this.name)}}};r.default=h,Object.defineProperty(r,"__esModule",{value:!0})});