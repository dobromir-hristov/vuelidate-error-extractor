/*!
 * vuelidate-error-extractor v2.4.0 
 * (c) 2019 Dobromir Hristov
 * Released under the MIT License.
 */
!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r(t.VuelidateErrorExtractorSingleErrorExtractorMixin={})}(this,function(t){"use strict";function r(t,r,e){return"function"==typeof e.join?e.join(t):t[0]+r+t[1]}function e(t,r,e){return"function"==typeof e.split?e.split(t):t.split(r)}function i(t,r,e){return"function"!=typeof e.isValid||e.isValid(t,r)}function n(t){return h(t)||Array.isArray(t)||"function"==typeof t}function a(t,r,e){return p(t,r,{default:e})}function s(t){return"[vuelidate-error-extractor]: "+t}function o(t,r){if("string"!=typeof t)throw new TypeError(s("Expected a string in the first argument, got "+typeof t));if("object"!=typeof r)throw new TypeError(s("Expected an Object/Array in the second argument, got "+typeof r));var e=/{(.*?)}/g;return t.replace(e,function(t,e){return a(r,e,"")})}function u(t,r,e){return void 0===e&&(e={}),{validationKey:t,hasError:!this.preferredValidator[r],$params:this.preferredValidator.$params[r],$dirty:this.preferredValidator.$dirty,$error:this.preferredValidator.$error,$invalid:this.preferredValidator.$invalid,params:Object.assign({},{attribute:this.resolvedAttribute,label:this.label},e,this.validatorParams)}}function f(t,r,e){var i=a(t,r,!1);return i?o(i,e):r}function l(t,r){var e=r.replace(E,"");return a(t,e,e)}function d(t,r){var e=r.replace(E,""),i=a(t,e);return i?this.$t(i):this.$_VEE_i18nDefaultAttribute?this.$t(this.$_VEE_i18nDefaultAttribute+"."+e):e}function c(t,r,e){return this.$_VEE_hasI18n&&this.$_VEE_hasI18nAttributes?d.call(this,t,e):l(r,e)}var h=function(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)},p=function(t,a,s){if(h(s)||(s={default:s}),!n(t))return void 0!==s.default?s.default:t;"number"==typeof a&&(a=String(a));var o=Array.isArray(a),u="string"==typeof a,f=s.separator||".",l=s.joinChar||("string"==typeof f?f:".");if(!u&&!o)return t;if(u&&a in t)return i(a,t,s)?t[a]:s.default;var d=o?a:e(a,f,s),c=d.length,p=0;do{var E=d[p];for("number"==typeof E&&(E=String(E));E&&"\\"===E.slice(-1);)E=r([E.slice(0,-1),d[++p]||""],l,s);if(E in t){if(!i(E,t,s))return s.default;t=t[E]}else{for(var v=!1,g=p+1;g<c;)if(E=r([E,d[g++]],l,s),v=E in t){if(!i(E,t,s))return s.default;t=t[E],p=g-1;break}if(!v)return s.default}}while(++p<c&&n(t));return p===c?t:s.default},E=/\$each\.\d\./g,v={inject:{formValidator:{default:!1},formMessages:{default:function(){return{}}}},props:{validator:{type:Object,default:function(){return{$dirty:!1,$error:!1,$invalid:!0,$pending:!1,$params:[]}}},messages:{type:Object,default:function(){return{}}}},computed:{activeErrors:function(){return this.errors.filter(function(t){return t.hasError&&t.$dirty})},mergedMessages:function(){return Object.assign({},this.$vuelidateErrorExtractor.messages,this.formMessages,this.messages)},firstError:function(){return this.activeErrors.length?this.activeErrors[0]:""},firstErrorMessage:function(){return this.activeErrors.length?this.activeErrorMessages[0]:""},hasErrors:function(){return this.preferredValidator.$error},activeErrorMessages:function(){var t=this;return this.activeErrors.map(function(r){return t.getErrorMessage(r.validationKey,r.params)})},$_VEE_hasI18n:function(){return!!this.$vuelidateErrorExtractor.i18n},$_VEE_hasI18nAttributes:function(){return!!this.$vuelidateErrorExtractor.i18nAttributes},$_VEE_i18nDefaultAttribute:function(){return this.$_VEE_hasI18nAttributes?this.$vuelidateErrorExtractor.i18nAttributes.__default:""}},methods:{getErrorMessage:function(t,r){return this.$_VEE_hasI18n?this.getI18nMessage(t,r):this.getPlainMessage(t,r)},getI18nMessage:function(t,r){var e=a(this.mergedMessages,t);return e?this.$t(e,r):this.$t(this.$vuelidateErrorExtractor.i18n+"."+t,r)},getPlainMessage:function(t,r){return f(this.mergedMessages,t,r)}}},g={props:{label:{type:String,default:""},attribute:{type:String,default:""},name:{type:String,default:""},validatorParams:{type:Object,default:function(){return{}}},showSingleError:{type:Boolean,default:!1}},extends:v,computed:{preferredValidator:function(){return this.$options.propsData.hasOwnProperty("validator")?this.validator:this.name?a(this.formValidator,this.name,this.validator):this.validator},errors:function(){var t=this,r=this.preferredValidator.$params,e=this.$vuelidateErrorExtractor.validationKeys||{};return Object.keys(r).map(function(i){var n=r[i];if(e.hasOwnProperty(i)){var a=e[i].params.reduce(function(r,e){return r[e.ext]=t.validatorParams[e.vue]||n[e.vue],r},{});return u.call(t,e[i].validationKey,i,a)}var s=Object.assign({},n,t.validatorParams);return delete s.type,u.call(t,i,i,s)})},events:function(){var t=this;return{input:function(){return t.preferredValidator.$touch()}}},isValid:function(){return this.preferredValidator.$dirty?!this.hasErrors:null},resolvedAttribute:function(){return this.attribute?this.$_VEE_hasI18n?this.$t(this.attribute):this.attribute:this.name?c.call(this,this.$vuelidateErrorExtractor.i18nAttributes,this.$vuelidateErrorExtractor.attributes,this.name):this.label}}};t.default=g,Object.defineProperty(t,"__esModule",{value:!0})});