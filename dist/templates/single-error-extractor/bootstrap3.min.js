/*!
 * vuelidate-error-extractor v2.3.1 
 * (c) 2019 Dobromir Hristov
 * Released under the MIT License.
 */
!function(r,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(r.VuelidateErrorExtractorsingleErrorExtractorBootstrap3={})}(this,function(r){"use strict";function t(r,t,e){return"function"==typeof e.join?e.join(r):r[0]+t+r[1]}function e(r,t,e){return"function"==typeof e.split?e.split(r):r.split(t)}function a(r,t,e){return"function"!=typeof e.isValid||e.isValid(r,t)}function i(r){return d(r)||Array.isArray(r)||"function"==typeof r}function s(r,t,e){return c(r,t,{default:e})}function n(r){return"[vuelidate-error-extractor]: "+r}function o(r,t){if("string"!=typeof r)throw new TypeError(n("Expected a string in the first argument, got "+typeof r));if("object"!=typeof t)throw new TypeError(n("Expected an Object/Array in the second argument, got "+typeof t));var e=/{(.*?)}/g;return r.replace(e,function(r,e){return s(t,e,"")})}function u(r,t,e){return void 0===e&&(e={}),{validationKey:r,hasError:!this.preferredValidator[t],$params:this.preferredValidator.$params[t],$dirty:this.preferredValidator.$dirty,$error:this.preferredValidator.$error,$invalid:this.preferredValidator.$invalid,params:Object.assign({},{attribute:this.resolvedAttribute,label:this.label},e,this.validatorParams)}}function l(r,t,e,a){if(void 0===a&&(a=""),t)return t;if(!a)return e;var i=a.replace(/\$each\.\d\./g,"");return r[i]||i}function f(r,t,e){var a=s(r,t,!1);return a?o(a,e):t}var d=function(r){return null!=r&&"object"==typeof r&&!1===Array.isArray(r)},c=function(r,s,n){if(d(n)||(n={default:n}),!i(r))return void 0!==n.default?n.default:r;"number"==typeof s&&(s=String(s));var o=Array.isArray(s),u="string"==typeof s,l=n.separator||".",f=n.joinChar||("string"==typeof l?l:".");if(!u&&!o)return r;if(u&&s in r)return a(s,r,n)?r[s]:n.default;var c=o?s:e(s,l,n),p=c.length,v=0;do{var h=c[v];for("number"==typeof h&&(h=String(h));h&&"\\"===h.slice(-1);)h=t([h.slice(0,-1),c[++v]||""],f,n);if(h in r){if(!a(h,r,n))return n.default;r=r[h]}else{for(var g=!1,E=v+1;E<p;)if(h=t([h,c[E++]],f,n),g=h in r){if(!a(h,r,n))return n.default;r=r[h],v=E-1;break}if(!g)return n.default}}while(++v<p&&i(r));return v===p?r:n.default},p={inject:{formValidator:{default:!1},formMessages:{default:function(){return{}}}},props:{validator:{type:Object,default:function(){return{$dirty:!1,$error:!1,$invalid:!0,$pending:!1,$params:[]}}},messages:{type:Object,default:function(){return{}}}},computed:{activeErrors:function(){return this.errors.filter(function(r){return r.hasError&&r.$dirty})},mergedMessages:function(){return Object.assign({},this.$vuelidateErrorExtractor.messages,this.formMessages,this.messages)},firstError:function(){return this.activeErrors.length?this.activeErrors[0]:""},firstErrorMessage:function(){return this.activeErrors.length?this.activeErrorMessages[0]:""},hasErrors:function(){return this.preferredValidator.$error},activeErrorMessages:function(){var r=this;return this.activeErrors.map(function(t){return r.getErrorMessage(t.validationKey,t.params)})}},methods:{getErrorMessage:function(r,t){return this.$vuelidateErrorExtractor.i18n?this.getI18nMessage(r,t):this.getPlainMessage(r,t)},getI18nMessage:function(r,t){var e=s(this.mergedMessages,r);return e?this.$t(e,t):this.$t(this.$vuelidateErrorExtractor.i18n+"."+r,t)},getPlainMessage:function(r,t){return f(this.mergedMessages,r,t)}}},v={props:{label:{type:String,default:""},attribute:{type:String,default:""},name:{type:String,default:""},validatorParams:{type:Object,default:function(){return{}}},showSingleError:{type:Boolean,default:!1}},extends:p,computed:{preferredValidator:function(){return this.$options.propsData.hasOwnProperty("validator")?this.validator:this.name?s(this.formValidator,this.name,this.validator):this.validator},errors:function(){var r=this,t=this.preferredValidator.$params,e=this.$vuelidateErrorExtractor.validationKeys||{};return Object.keys(t).map(function(a){var i=t[a];if(e.hasOwnProperty(a)){var s=e[a].params.reduce(function(t,e){return t[e.ext]=r.validatorParams[e.vue]||i[e.vue],t},{});return u.call(r,e[a].validationKey,a,s)}var n=Object.assign({},i,r.validatorParams);return delete n.type,u.call(r,a,a,n)})},events:function(){var r=this;return{input:function(){return r.preferredValidator.$touch()}}},isValid:function(){return this.preferredValidator.$dirty?!this.hasErrors:null},resolvedAttribute:function(){return l(this.$vuelidateErrorExtractor.attributes,this.attribute,this.label,this.name)}}},h={mixins:[v],computed:{attributes:function(){return{class:{"form-control":!0},name:this.name||void 0}}}},g=h,E=function(){var r=this,t=r.$createElement,e=r._self._c||t;return e("div",{staticClass:"form-group",class:{"has-error":r.hasErrors,"has-success":r.isValid}},[r._t("label",[r.label?e("label",{staticClass:"control-label"},[r._v("\n      "+r._s(r.label)+" "+r._s(r.errors?"*":"")+"\n    ")]):r._e()]),r._v(" "),r._t("default",null,{attributes:r.attributes,errors:r.activeErrors,events:r.events,firstErrorMessage:r.firstErrorMessage,hasErrors:r.hasErrors,validator:r.preferredValidator}),r._v(" "),r._t("errors",[r.hasErrors?e("div",{staticClass:"help-block"},[r.showSingleError?e("span",{attrs:{"data-validation-attr":r.firstError.validationKey}},[r._v("\n        "+r._s(r.firstErrorMessage)+"\n      ")]):r._e(),r._v(" "),r.showSingleError?r._e():r._l(r.activeErrors,function(t){return e("span",{key:t.validationKey,attrs:{"data-validation-attr":t.validationKey}},[r._v("\n          "+r._s(r.getErrorMessage(t.validationKey,t.params))+"\n        ")])})],2):r._e()],{errors:r.activeErrors,errorMessages:r.activeErrorMessages,hasErrors:r.hasErrors,firstErrorMessage:r.firstErrorMessage})],2)},y=[];E._withStripped=!0;var m=function(r,t,e,a,i,s,n,o){var u=("function"==typeof e?e.options:e)||{};return u.__file="D:\\web\\public-projects\\vuelidate-error-extractor\\src\\templates\\single-error-extractor\\bootstrap3.vue",u.render||(u.render=r.render,u.staticRenderFns=r.staticRenderFns,u._compiled=!0,i&&(u.functional=!0)),u._scopeId=a,u}({render:E,staticRenderFns:y},void 0,g,void 0,!1,void 0,void 0,void 0);r.default=m,Object.defineProperty(r,"__esModule",{value:!0})});